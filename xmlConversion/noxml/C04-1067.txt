
	
		In this paper, we present a hybrid method for Chinese and Japanese word segmentation.
		Word-level information is useful for analysis of known words, while character-level information is useful for analysis of unknown words, and the method utilizes both these two types of information in order to effectively handle known and unknown words.
		Experimental results show that this method achieves high overall accuracy in Chinese and Japanese word segmentation.
	
	
			Word segmentation in Chinese and Japanese is an important and difficult task.
			In these languages, words are not separated by explicit delimiters, and word segmentation must be conducted first in most natural language processing applications.
			One of the problems which makes word segmentation more difficult is existence of unknown
	
	
			Our method is based on two existing methods for Chinese or Japanese word segmentation, and we explain them in this section.
			2.1 The Markov Model-Based Method.
			Word-based Markov models are used in English part-of-speech (POS) tagging (Charniak et al., 1993; Brants, 2000).
			This method identifies POS- tags T = t1, . . .
			, tn, given a sentence as a word sequence W = w1, . . .
			, wn, where n is the number of words in the sentence.
			The method assumes that each word has a state which is the same as the POS of the word and the sequence of states is a Markov chain.
			A state t transits to another state s with prob ability P (s|t), and outputs a word w with probability P (w|t).
			From such assumptions, the probability that the word sequence W with parts-of-speech T is generated is n (out-of-vocabulary) words.
			Unknown words are defined as words that do not exist in a system’s dictionary.
			The word segmentation system has no knowledge about these unknown words, and determining word boundaries for such words is difficult.
			Accu P (W, T ) = n P (witi|w0t0 . . .
			wi−1ti−1), i=1 n n P (wi|ti)P (ti|ti−1), (1) i=1 racy of word segmentation for unknown words is usually much lower than that for known words.
			In this paper, we propose a hybrid method for Chinese and Japanese word segmentation, which utilizes both word-level and character-level information.
			Word-level information is useful for analysis of known words, and character-level information is useful for analysis of unknown words.
			We use these two types of information at the same time to obtain high overall performance.
			This paper is organized as follows: Section 2 describes previous work on Chinese and Japanese word segmentation on which our method is based.
			Section 3 introduces the hybrid method which combines word-level and character-level processing.
			Section 4 shows experimental results of Chinese and Japanese word segmentation.
			Section 5 discusses related work, and Section 6 gives the conclusion.
			where w0(t0) is a special word(part-of-speech) representing the beginning of the sentence.
			Given a word sequence W , its most likely POS sequence Tˆ can be found as follows: Tˆ = argmax P (T |W ), T = argmax P (W, T ) , T P (W ) = argmax P (W, T ), T n argmax n P (wi|ti)P (ti|ti−1).
			(2) T i=1 The equation above can be solved efficiently by the Viterbi algorithm (Rabiner and Juang, 1993).
			In Chinese and Japanese, the method is used with some modifications.
			Because each word in a Figure 1: Example of Lattice Used in the Markov Model-Based Method sentence is not separated explicitly in Chinese and Japanese, both segmentation of words and identification of the parts-of-speech tags of the words must be done simultaneously.
			Given a sentence S, its most likely word sequence Wˆ and POS sequence Tˆ can be found as follows where W ranges over the possible segments of S (w1 · · · wn = S): (Wˆ , Tˆ) = argmax P (W, T |S), W,T = argmax P (W, T , S) , Table 1: The ‘B, I, E, S’ Tag Set the lattice.
			The candidates of unknown words can be generated by heuristic rules(Matsumoto et al., 2001) or statistical word models which predict the proba W,T P (S) bilities for any strings to be unknown words (Sproat = argmax P (W, T , S), W,T = argmax P (W, T ), W,T n argmax n P (wi|ti)P (ti|ti−1).
			(3) et al., 1996; Nagata, 1999).
			However, such heuristic rules or word models must be carefully designed for a specific language, and it is difficult to properly process a wide variety of unknown words.
			2.2 The Character Tagging Method.
			W,T i=1 This method carries out word segmentation by tag The equation above can be solved using the Viterbi algorithm as well.
			The possible segments of a given sentence are represented by a lattice, and Figure 1 shows an example.
			Given a sentence, this method first constructs such a lattice using a word dictionary, then chooses the best path which maximizes Equation (3).
			This Markov model-based method achieves high accuracy with low computational cost, and many Japanese word segmentation systems adopt it (Kurohashi and Nagao, 1998; Matsumoto et al., 2001).
			However, the Markov model-based method has a difficulty in handling unknown words.
			In the constructing process of a lattice, only known words are dealt with and unknown words must be handled with other methods.
			Many practical word segmentation systems add candidates of unknown words to ging each character in a given sentence, and in this method, the tags indicate word-internal positions of the characters.
			We call such tags position- of-character (POC) tags (Xue, 2003) in this paper.
			Several POC-tag sets have been studied (Sang and Veenstra, 1999; Sekine et al., 1998), and we use the ‘B, I, E, S’ tag set shown in Table 1 1.
			Figure 2 shows an example of POC-tagging.
			The POC-tags can represent word boundaries for any sentences, and the word segmentation task can be reformulated as the POC-tagging task.
			The tagging task can be solved by using general machine learning techniques such as maximum entropy (ME) models (Xue, 2003) and support vector machines (Yoshida et al., 2003; Asahara et al., 2003).
			1 The ‘B, I, E, S’ tags are also called ‘OPCN, CNCN, CNCL, OPCL’ tags (Sekine et al., 1998) or ‘LL, MM, RR, LR’ tags (Xue, 2003).
			Figure 2: Example of the Character Tagging Method: Word boundaries are indicated by vertical lines (‘|’).
			This character tagging method can easily handle unknown words, because known words and unknown words are treated equally and no other exceptional processing is necessary.
			This approach is also used in base-NP chunking (Ramshaw and Marcus, 1995) and named entity recognition (Sekine et al., 1998) as well as word segmentation.
	
	
			and Character-Level Information We saw the two methods for word segmentation in the previous section.
			It is observed that the for each character) are made.
			Then, the most likely path is searched (the thick line indicates the correct path in the example).
			Unknown words are identified by the nodes with POC-tags.
			Note that some transitions of states are not allowed (e.g. from I to B, or from any POS-tags to E), and such transitions are ignored.
			Because the basic Markov models in Equation (1) are not expressive enough, we use the following equation instead to estimate probability of a path in a lattice more precisely: n Markov model-based method has high overall accuracy, however, the accuracy drops for unknown words, and the character tagging method has high accuracy for unknown words but lower accuracy for known words (Yoshida et al., 2003; Xue, 2003; Sproat and Emerson, 2003).
			This seems natural because words are used as a processing unit in the Markov model-based method, and therefore much information about known words (e.g., POS or word bigram probability) can be used.
			However, un P (W, T ) = n P (witi|w0t0 . . .
			wi−1ti−1), i=1 n {λ1P (wi|ti)P (ti) i=1 +λ2P (wi|ti)P (ti|ti−1) +λ3P (wi|ti)P (ti|ti−2ti−1) +λ4P (witi|wi−1ti−1)}, (λ1 + λ2 + λ3 + λ4 = 1).
			(4) known words cannot be handled directly by this method itself.
			On the other hand, characters are used as a unit in the character tagging method.
			In general, the number of characters is finite and far The probabilities in the equation above are estimated from a word segmented and POS-tagged corpus using the maximum-likelihood method, for example,fewer than that of words which continuously in creases.
			Thus the character tagging method may be P (wi|ti) =  f (wi ,ti )  w f (w,ti ) (f (wi, ti) > 0), (5) robust for unknown words, but cannot use more detailed information than character-level information.
			0.5  f (w,ti ) (f (wi, ti) = 0), Then, we propose a hybrid method which combines the Markov model-based method and the character tagging method to make the most of word- level and character-level information, in order to achieve high overall accuracy.
			3.1 A Hybrid Method The hybrid method is mainly based on word-level Markov models, but both POC-tags and POS-tags are used in the same time and word segmentation for known words and unknown words are conducted simultaneously.
			Figure 3 shows an example of the method given a Japanese sentence “ ”, where the word “ ”(person’s name) is an un known word.
			First, given a sentence, nodes of lattice for known words are made as in the usual Markov model-based method.
			Next, for each character in the sentence, nodes of POC-tags (four nodes where f (w, t) is a frequency that the word w with the tag t occurred in training data.
			Unseen events in the training data are handled as they occurred 0.5 times for smoothing.
			λ1, λ2, λ3, λ4 are calculated by deleted interpolation as described in (Brants, 2000).
			A word dictionary for a Markov model- based system is often constructed from a training corpus, and no unknown words exist in the training corpus in such a case.
			Therefore, when the parameters of the above probabilities are trained from a training corpus, words that appear only once in the training corpus are regarded as unknown words and decomposed to characters with POC-tags so that statistics about unknown words are obtained2.
			2 As described in Equation (5), we used the additive smoothing method which is simple and easy to implement.
			Although there are other more sophisticated methods such as Good- Turing smoothing, they may not necessarily perform well because the distribution of words is changed by this operation.
			Figure 3: Example of the Hybrid Method In order to handle various character-level features, we calculate word emission probabilities for POC-tags by Bayes’ theorem: P (wi|ti) = P (ti|wi, ti ∈ TP OC )P (wi, ti ∈ TP OC ) , P (ti) P (ti|wi, ti ∈ TP OC ) t∈TP OC P (wi, t) Table 2: Character Types = P (ti) , (6) cj · · · cj+k−1 is calculated as: where TP OC = {B, I, E, S}, wi is a character and ti is a POC-tag.
			In the above equation, P (ti) and P (wi, t) are estimated by the maximum-likelihood method, and the probability of a POC tag ti, given a character wi (P (ti|wi, ti ∈ TP OC )) is estimated using ME models (Berger et al., 1996).
			We use the following features for ME models, where cx is the xth character in a sentence, wi = cit and yx is the character type of cx (Table 2 shows the definition of character types we used): (1) Characters (cit −2, cit −1, cit , cit +1, cit +2) (2) Pairs of characters (cit −2cit −1, cit −1cit , cit −1cit +1, cit cit +1, cit +1cit +2) (3) Character types (yit −2, yit −1, yit , yit +1, yit +2) (4) Pairs of character types (yit −2yit −1, yit −1yit , yit −1yit +1, yit yit +1, yit +1yit +2) Parameters of ME are trained using all the words in training data.
			We use the Generalized Iterative Scaling algorithm (Darroch and Ratcliff, 1972) for parameter estimation, and features that appeared less than or equal to 10 times in training data are ignored in order to avoid overfitting.
			What our method is doing for unknown words can be interpreted as follows: The method examines all possible unknown words in a sentence, and probability for an unknown word of length k, wi = P (witi|h) ( 7)  P (cj S|h) (k = 1), =  P (cj B|h) j+k−2 P (c I|h)P (c E|h) l=j+1 l j+k−1  (k > 1), where h is a history of the sequence.
			In other words, the probability of the unknown word is approximated by the product of the probabilities of the composing characters, and this calculation is done in the framework of the word level Markov model-based method.
			4 Experiments This section gives experimental results of Chinese and Japanese word segmentation with the hybrid method.
			The following values are used to evaluate the performance of word segmentation: R : Recall (The number of correctly segmented words in system’s output divided by the number of words in test data) P : Precision (The number of correctly segmented words in system’s output divided by the number of words in system’s output) F : F-measure (F = 2 × R × P /(R + P )) Rknown : Recall for known words Runknown : Recall for unknown words Co rp us # of Tr ai ni ng W or ds # of Te sti ng W or ds ( k n o w n / u n k n o w n ) # of W or ds in Di cti on ar y Ra te of U nk no w n W or ds A S H K P K 5 , 8 0 6 , 6 1 1 2 3 9 , 8 5 2 1 , 1 2 1 , 0 1 7 11 ,9 85 (1 1, 72 7/ 25 8) 34 ,9 55 (3 2, 46 3/ 2, 49 2) 17 ,1 94 (1 6, 00 5/ 1, 18 9) 1 4 6 , 2 1 2 2 3 , 7 4 7 5 5 , 2 2 6 0 . 0 2 1 5 0 . 0 7 1 3 0 . 0 6 9 2 R W C P 8 4 0 , 8 7 9 93 ,1 55 (9 3, 08 5/ 70) 3 1 5 , 6 0 2 0 . 0 0 0 8 Table 3: Statistical Information of Corpora 4.1 Experiments of Chinese Word.
			Segmentation We use three Chinese word-segmented corpora, the Academia Sinica corpus (AS), the Hong Kong City University corpus (HK) and the Beijing University corpus (PK), all of which were used in the First International Chinese Word Segmentation Bake- off (Sproat and Emerson, 2003) at ACLSIGHAN 2003.
			The three corpora are word-segmented corpora, but POS-tags are not attached, therefore we need to attach a POS-tag (state) which is necessary for the Markov model-based method to each word.
			We attached a state for each word using the Baum-Welch algorithm (Rabiner and Juang, 1993) which is used for Hidden Markov Models.
			The algorithm finds a locally optimal tag sequence which maximizes Equation (1) in an unsupervised way.
			The initial states are randomly assigned, and the number of states is set to 64.
			We use the following systems for comparison: Bakeoff1, 2, 3 The top three systems participated in the SIGHAN Bakeoff (Sproat and Emerson, 2003).
			Maximum Matching A word segmentation system using the well-known maximum matching method.
			Character Tagging A word segmentation system using the character tagging method.
			This system is almost the same as the one studied by Xue (2003).
			Features described in Section 3.1 (1)–(4) and the following (5) are used to estimate a POC tag of a character cit , where tx is a POC-tag of the xth character in a sentence: (5) Unigram and bigram of previous POC- tags (tit −1, tit −2tit −1) All these systems including ours do not use any other knowledge or resources than the training data.
			In this experiments, word dictionaries used by the hybrid method and Maximum Matching are constructed from all the words in each training corpus.
			Statistical information of these data is shown in Table 3.
			The calculated values of λi in Equation (4) are shown in Table 4.
			Co rp us λ 1 λ2 λ3 λ4 A S H K P K 0.
			03 7 0.178 0.257 0.528 0.
			04 8 0.251 0.313 0.388 0.
			05 5 0.207 0.242 0.495 R W C P 0.
			07 3 0.105 0.252 0.571 Table 4: Calculated Values of λi The results are shown in Table 5.
			Our system achieved the best F-measure values for the three corpora.
			Although the hybrid system’s recall values for known words are not high compared to the participants of SIGHAN Bakeoff, the recall values for known words and unknown words are relatively well-balanced.
			The results of Maximum Matching and Character Tagging show the trade-off between the word-based approach and the character-based approach which was discussed in Section 3.
			Maximum Matching is word-based and has the higher recall values for known words than Character Tagging on the HK and PK corpus.
			Character Tagging is character-based and has the highest recall values for unknown words on the AS, HK and PK corpus.
			4.2 Experiments of Japanese Word.
			Segmentation We use the RWCP corpus, which is a Japanese word-segmented and POS-tagged corpus.
			We use the following systems for comparison: ChaSen The word segmentation and POS-tagging system based on extended Markov models (Asahara and Matsumoto, 2000; Matsumoto et al., 2001).
			This system carries out unknown word processing using heuristic rules.
			Maximum Matching The same system used in the Chinese experiments.
			Character Tagging The same system used in the Chinese experiments.
			As a dictionary for ChaSen, Maximum Matching and the hybrid method, we use IPADIC (Matsumoto and Asahara, 2001) which is attached to ChaSen.
			Statistical information of these data is shown in Table 3.
			The calculated values of λi in Equation (4) are shown in Table 4.
			Co rp us Sy ste m R P F Rk no wn Runknown A S H yb rid m et ho d 0.
			97 3 0.971 0.972 0 . 9 7 9 0.717 Ba ke off -1 Ba ke off -2 Ba ke off -3 M ax im u m M atc hi ng Ch ar act er Ta gg in g 0.
			96 6 0.956 0.961 0.
			96 1 0.958 0.959 0.
			94
	
	
			0.
			91 7 0.912 0.915 0.
			96 2 0.959 0.960 0 . 9 8 0 0.364 0 . 9 6 6 0.729 0 . 9 5 2 0.574 0 . 9 3 8 0.000 0 . 9 6 6 0.744 H K H yb rid m et ho d 0.
			95 1 0.948 0.950 0 . 9 6 9 0.715 Ba ke off -1 Ba ke off -2 Ba ke off -3 M ax im u m M atc hi ng Ch ar act er Ta gg in g 0.
			94 7 0.934 0.940 0.
			94 0 0.908 0.924 0.
			91 7 0.915 0.916 0.
			90 8 0.830 0.867 0.
			91 7 0.917 0.917 0 . 9 7 2 0.625 0 . 9 8 0 0.415 0 . 9 3 6 0.670 0 . 9 7
	
	
			0 . 9 3 2 0.728 P K H yb rid m et ho d 0.
			95 7 0.952 0.954 0 . 9 7 0 0.774 Ba ke off -1 Ba ke off -2 Ba ke off -3 M ax im u m M atc hi ng Ch ar act er Ta gg in g 0.
			96 2 0.940 0.951 0.
			95 5 0.938 0.947 0.
			95 5 0.938 0.946 0.
			93 0 0.883 0.906 0.
			93 2 0.931 0.931 0 . 9 7 9 0.724 0 . 9 7
	
	
			0 . 9 7
	
	
			0 . 9 7 4 0.020 0 . 9 4 3 0.786 Table 5: Performance of Chinese Word Segmentation Co rp us Sy ste m R P F Rk no wn Runknown R W C P H yb rid m et ho d 0.
			99 3 0.994 0.993 0 . 9 9 3 0.586 Ch aS en M ax im u m M atc hi ng Ch ar act er Ta gg in g 0.
			99 1 0.992 0.991 0.
			88 0 0.918 0.898 0.
			97 2 0.968 0.970 0 . 9 9 1 0.243 0 . 8 8 0 0.100 0 . 9 7 2 0.629 Table 6: Performance of Japanese Word Segmentation The results are shown in Table 63.
			Compared to ChaSen, the hybrid method has the comparable F- measure value and the higher recall value for unknown words (the difference is statistically significant at 95% confidence level).
			Character Tagging has the highest recall value for unknown words as in the Chinese experiments.
			5 Discussion.
			Several studies have been conducted on word segmentation and unknown word processing.
			Xue (2003) studied Chinese word segmentation using the character tagging method.
			As seen in the previous section, this method handles known and unknown words in the same way basing on character- level information.
			Our experiments showed that the method has quite high accuracy for unknown words, but accuracy for known words tends to be lower than other methods.
			3 In this evaluation, Rknown and Runknown are calculated considering words in the dictionary as known words.
			Words which are in the training corpus but not in the dictionary are handled as unknown words in the calculations.
			The number of known/unknown words of the RWCP corpus shown in Table 3 is also calculated in the same way.
			Uchimoto et al.
			(2001) studied Japanese word segmentation using ME models.
			Although their method is word-based, no word dictionaries are used directly and known and unknown words are handled in a same way.
			The method estimates how likely a string is to be a word using ME. Given a sentence, the method estimates the probabilities for every substrings in the sentence.
			Word segmentation is conducted by finding a division of the sentence which maximizes the product of probabilities that each divided substring is a word.
			Compared to our method, their method can handle some types of features for unknown words such as “the word starts with an alphabet and ends with a numeral” or “the word consists of four characters”.
			Our method cannot handle such word-level features because unknown words are handled by using a character as a unit.
			On the other hand, their method seems to have a computational cost problem.
			In their method, unknown words are processed by using a word as a unit, and the number of candidates for unknown words in a sentence which consists of n characters is equal to n(n + 1)/2.
			Actually, they did not consider every substrings in a sentence, and limited the length of substrings to be less than or equal to five characters.
			In our method, the number of POC- tagged characters which is necessary for unknown word processing is equal to 4n, and there is no limitation for the length of unknown words.
			Asahara et al.
			(2003) studied Chinese word segmentation based on a character tagging method with support vector machines.
			They preprocessed a given sentence using a word segmenter based on Markov models, and the output is used as features for character tagging.
			Their method is a character- based method incorporating word-level information and that is reverse to our approach.
			They did not use some of the features we used like character types, and our method achieved higher accuracies compared to theirs on the AS, HK and PK corpora (Asahara et al., 2003).
			6 Conclusion.
			In this paper, we presented a hybrid method for word segmentation, which utilizes both word-level and character-level information to obtain high accuracy for known and unknown words.
			The method combines two existing methods, the Markov model- based method and character tagging method.
			Experimental results showed that the method achieves high accuracy compared to the other state-of-the-art methods in both Chinese and Japanese word segmentation.
			The method can conduct POS tagging for known words as well as word segmentation, but tagging identified unknown words is left as future work.
	
	
			This work was supported by a grant from the National Institute of Information and Communications Technology of Japan.
	
